"use strict";const p=require("@smartmed/utility/dom"),k=require("vue"),F=require("@maskito/core");require("./inputPhoneInternational.mask-7ddee241.js");const O=require("./useMaskito-6d65c265.js"),Y={mounted(e){e.focus()}},v="__smartmed_dragDrop__",T=["touchstart","touchmove","touchend"],w=["mousedown","mousemove","mouseup"],B={beforeMount:(e,{value:t})=>{const o=s=>s instanceof MouseEvent?!0:s.touches.length<2,n=s=>s instanceof MouseEvent?{clientX:s.clientX,clientY:s.clientY}:{clientX:s.touches[0].clientX,clientY:s.touches[0].clientX},c=([s,u,i],r,d)=>{const h=f=>{if(!r(f))return;const b=d(f);let E={x:b.clientX,y:b.clientY};const m=l=>{if(!r(l))return;const _=d(l);t.onEvent(e,[_.clientX-E.x,_.clientY-E.y]),E={x:_.clientX,y:_.clientY}},a=()=>{document.removeEventListener(u,m),document.removeEventListener(i,a),document[v+i]=null,document[v+u]=null};document.removeEventListener(i,a),document.addEventListener(u,m,{passive:!0}),document.addEventListener(i,a,{passive:!0}),document[v+i]=a,document[v+u]=m};e.addEventListener(s,h,{passive:!0}),e[`${v}${s}`]=h};c(T,o,n),c(w,o,n)},beforeUnmount:e=>{[...T,...w].forEach(t=>{const o=document[`${v}${t}`],n=e[`${v}${t}`];o&&document.removeEventListener(t,o),n&&e.removeEventListener(t,n)})}};function N(e,t){return e.contains(t)||!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}const U={mounted:(e,{value:t})=>{const o=({key:n,target:c})=>{n==="Escape"&&c instanceof Element&&(!N(e,c)||e.contains(c))&&t.onEvent()};document.addEventListener("keydown",o)}},X={mounted:(e,{value:t})=>{if(t&&t.handle===!1)return;e.setAttribute("tabIndex","0"),e.__smedBeforeFocustrapFocusedElement=p.getNativeFocused(),k.nextTick(()=>e.focus());const o=()=>{e.removeAttribute("tabIndex"),e.removeEventListener("blur",o),e.__smedBlurListener=null};e.addEventListener("blur",o),e.__smedBlurListener=o},beforeUnmount:e=>{p.blurNativeFocused(),e.__smedBlurListener&&(e.removeEventListener("blur",e.__smedBlurListener),e.__smedBlurListener=null),k.nextTick(()=>{const t=e.__smedBeforeFocustrapFocusedElement;t instanceof HTMLElement&&p.setNativeFocused(t)})}},g={mounted(e,{value:t}){const o=()=>{t.onEvent(!0)},n=()=>{t.onEvent(!1)};e.__smedHoveredDirectiveMouseEnter=o,e.__smedHoveredDirectiveMouseLeave=n,e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",n)},beforeUnmount(e){e.__smedHoveredDirectiveMouseEnter&&(e.removeEventListener("mouseenter",e.__smedHoveredDirectiveMouseEnter),e.__smedHoveredDirectiveMouseEnter=null),e.__smedHoveredDirectiveMouseLeave&&(e.removeEventListener("mouseleave",e.__smedHoveredDirectiveMouseLeave),e.__smedHoveredDirectiveMouseLeave=null)}},C={threshold:1},P={mounted(e,{value:t}){const{onIntersect:o,isObserve:n=!0,disconnectAfterIntersect:c=!0,options:s={}}=t;if(!n)return;const u=([i])=>{const{isIntersecting:r}=i;r&&(o(i),c&&e.__observer_intersection.disconnect())};e.__observer_intersection=new IntersectionObserver(u,{...C,...s,root:typeof s.root=="function"?s.root():s.root}),e.__observer_intersection.observe(e)},beforeUnmount(e){e.__observer_intersection&&e.__observer_intersection.disconnect()}},S={onMousedown:"mousedown",onMouseup:"mouseup",onFocus:"focus",onBlur:"blur"},$=(e,t)=>{t.forEach(o=>{const n=`_smed_${o.key}`;e.addEventListener(S[o.key],o.callback),e[n]=o.callback})},x=(e,t)=>{t.forEach(o=>{const n=`_smed_${o}`,c=e[n];c&&(e.removeEventListener(S[o],c),delete e[n])})},I="smed-focused-element",y={mounted:e=>{let t=!0;$(e,[{key:"onMousedown",callback:()=>{t=!1}},{key:"onMouseup",callback:()=>{t=!0}},{key:"onFocus",callback:()=>{t&&e.classList.add(I)}},{key:"onBlur",callback:()=>{e.classList.remove(I),t=!0}}])},beforeUnmount:e=>{x(e,["onMousedown","onMouseup","onFocus","onBlur"])}},D=new Map,A=(e,{options:t=F.MASKITO_DEFAULT_OPTIONS,predicate:o=O.defaultMaskitoPredicate})=>{var c;(c=D.get(e))==null||c.destroy();const n=new F.Maskito(o(e),t);D.set(e,n)},q=(e,{value:t})=>{A(e,t||{})},R=(e,{value:t,oldValue:o})=>{t!==o&&A(e,t||{})},G=e=>{var t;(t=D.get(e))==null||t.destroy(),D.delete(e)},j={mounted:q,updated:R,beforeUnmount:G},M="__smed_swipe_start",L="__smed_swipe_end",z=30,J=500;function Q(e,t){return Math.abs(t)>Math.abs(e)?t>0?"top":"bottom":e>0?"left":"right"}const V={beforeMount:(e,{value:t})=>{const o=[null,null],n=typeof t.threshold=="number"?t.threshold:z,c=typeof t.timeout=="number"?t.timeout:J,s=()=>{const r=o[0],d=o[1];if(r===null||d===null||!(!!r.touches.length&&r.touches[0].identifier===d.changedTouches[0].identifier))return;const{clientX:f,clientY:b}=r.touches[0],{clientX:E,clientY:m}=d.changedTouches[0],a=f-E,l=b-m,_=d.timeStamp-r.timeStamp;if((Math.abs(a)>n||Math.abs(l)>n)&&_<c){const H={direction:Q(a,l),events:[r,d]};t.onEvent(e,H)}},u=r=>{o[0]=r},i=r=>{o[1]=r,s()};e.addEventListener("touchstart",u,{passive:!0}),document.addEventListener("touchend",i),e[M]=u,document[L]=i},beforeUnmount:e=>{e[M]&&e.removeEventListener("touchstart",e[M]),document[L]&&document.removeEventListener("touchend",document[L])}};exports.AutoFocusDirective=Y;exports.DragDropDirective=B;exports.EscDirective=U;exports.FocustrapDirective=X;exports.HoveredDirective=g;exports.IntersectionDirective=P;exports.KeyboardFocusedDirective=y;exports.MaskitoDirective=j;exports.SwipeDirective=V;exports.containsOrAfter=N;
