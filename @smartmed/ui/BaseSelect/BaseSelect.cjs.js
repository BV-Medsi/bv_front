var K=require("./BaseSelect.css");const e=require("vue"),$=require("@smartmed/ui/BaseInput"),P=require("@smartmed/ui/DataList"),g=require("@smartmed/ui/DropdownHost"),q=require("@smartmed/ui/SvgIcon"),D=require("@smartmed/ui/tokens"),i=require("@smartmed/ui/use"),l=require("@smartmed/utility/vue"),I=require("../BaseInput.props-4886ef7a.js"),N=require("../_plugin-vue_export-helper-f246444f.js"),z={...I.BaseInputDefaultProps,editable:!1,dropdownProps:()=>({}),items:()=>[]},E={name:"BaseSelect"},O=e.defineComponent({...E,props:e.mergeDefaults({modelValue:{},modelModifiers:{},type:{},size:{},disabled:{type:Boolean},label:{},description:{},editable:{type:Boolean},maskOptions:{},isError:{type:Boolean},isSuccess:{type:Boolean},placeholder:{},autocomplete:{},name:{},hasCleaner:{type:Boolean},decoratorPostfix:{},decoratorPostfixColorClass:{},inputmode:{},readonly:{type:Boolean},stringify:{type:Function},id:{},dataAutomationId:{},pseudoHovered:{type:Boolean},pseudoFocused:{type:Boolean},inputStyles:{},rightSlotPadding:{},items:{},dropdownProps:{},matcher:{type:Function}},z),emits:["update:modelValue","search-clear"],setup(m,{expose:f,emit:c}){const C=m,n=e.useSlots(),{modelValue:r,disabled:h,isError:y}=e.toRefs(C),t=e.ref(!1),a=e.ref(null),v=e.computed(()=>{var o;return((o=a.value)==null?void 0:o.wrapper)??null});e.provide(D.DROPDOWN_HOST_PIVOT_TOKEN,v);const p=i.useControlAccess(null),_=i.useControlInvalid(y),u=i.useControlDisabled(h),w=e.computed(()=>l.hasSlotContent(n.emptyContent)),S=e.computed(()=>l.hasSlotContent(n.action)),b=e.computed(()=>l.hasSlotContent(n.label)),V=e.computed(()=>l.hasSlotContent(n.description));e.watch(r,()=>{t.value&&(t.value=!1)}),e.watch(t,o=>{!o&&p&&p.markAsTouch()});const k=o=>{var s;c("update:modelValue",o),(s=a.value)==null||s.focus()},B=()=>{c("search-clear")};return f({focus,blur}),(o,s)=>(e.openBlock(),e.createBlock(e.unref(g),e.mergeProps(o.dropdownProps,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=d=>t.value=d),class:o.$style.host,"can-open":!e.unref(u)}),{dropdown:e.withCtx(()=>[e.renderSlot(o.$slots,"dropdown",{items:o.items},()=>[e.createVNode(e.unref(P),{"model-value":e.unref(r),items:o.items,matcher:o.matcher,size:o.size,"onUpdate:modelValue":k},{itemContent:e.withCtx(d=>[e.renderSlot(o.$slots,"itemContent",e.normalizeProps(e.guardReactiveProps(d)))]),emptyContent:e.withCtx(()=>[w.value?e.renderSlot(o.$slots,"emptyContent",{key:0}):e.createCommentVNode("",!0)]),action:e.withCtx(()=>[S.value?e.renderSlot(o.$slots,"action",{key:0}):e.createCommentVNode("",!0)]),_:3},8,["model-value","items","matcher","size"])])]),default:e.withCtx(()=>[e.createVNode(e.unref($),e.mergeProps(o.$props,{ref_key:"baseInputExposed",ref:a,"model-value":e.unref(r),class:[o.$style.input,e.unref(u)&&o.$style.input_disabled],disabled:e.unref(u),"is-error":e.unref(_),"pseudo-focused":t.value,onSearchClear:B}),{right:e.withCtx(()=>[e.createVNode(e.unref(q),{name:"arrow-down",class:e.normalizeClass([o.$style.icon,t.value&&o.$style.icon_rotated])},null,8,["class"])]),valueContent:e.withCtx(()=>[o.$slots.valueContent?e.renderSlot(o.$slots,"valueContent",{key:0,value:e.unref(r)}):e.createCommentVNode("",!0)]),label:e.withCtx(()=>[b.value?e.renderSlot(o.$slots,"label",{key:0}):e.createCommentVNode("",!0)]),description:e.withCtx(()=>[V.value?e.renderSlot(o.$slots,"description",{key:0}):e.createCommentVNode("",!0)]),_:3},16,["model-value","class","disabled","is-error","pseudo-focused"])]),_:3},16,["modelValue","class","can-open"]))}}),A="_host_14dk7_1",H="_input_14dk7_5",T="_input_disabled_14dk7_8",F="_icon_14dk7_12",M="_icon_rotated_14dk7_19",R={host:A,input:H,input_disabled:T,icon:F,icon_rotated:M},U={$style:R},L=N._export_sfc(O,[["__cssModules",U]]);module.exports=L;
