"use strict";const e=require("vue"),I=require("@smartmed/ui/CountryFlag"),B=require("@smartmed/ui/InputPhone"),p=require("@smartmed/utility/consts"),b=require("@smartmed/utility/maskito"),k=require("@smartmed/utility/strings"),d=require("@smartmed/utility/vue"),q=require("../InputPhone.props-156b5c0e.js"),x={...q.InputPhoneDefaultProps,placeholder:"",dataAutomationId:"smed-input-phone-international"},S=e.defineComponent({name:"InputPhoneInternational",__name:"InputPhoneInternational",props:e.mergeDefaults({modelValue:{},modelModifiers:{},type:{},size:{},disabled:{type:Boolean},label:{},description:{},editable:{type:Boolean},isError:{type:Boolean},isSuccess:{type:Boolean},placeholder:{},autocomplete:{},name:{},decoratorPostfix:{},decoratorPostfixColorClass:{},inputmode:{},readonly:{type:Boolean},stringify:{type:Function},id:{},dataAutomationId:{},pseudoHovered:{type:Boolean},pseudoFocused:{type:Boolean},inputStyles:{},rightSlotPadding:{}},x),emits:["update:modelValue"],setup(m,{emit:h}){const r=m,{modelValue:n}=e.toRefs(r),a=p.internationalCountries.map(({prefix:t})=>t),f=a.map(t=>t.replace("+","")),l=e.useSlots(),y=e.computed(()=>d.hasSlotContent(l.label)),P=e.computed(()=>d.hasSlotContent(l.description)),v=e.computed(()=>{const t=n.value,o=k.getPhoneNumber(t),u=`+${o}`;if(o.startsWith("77")||o.startsWith("76"))return"KZ";if(o.startsWith("7"))return"RU";const s=p.internationalCountries.find(({prefix:i})=>u.startsWith(i));return s?s.id:null}),C=e.computed(()=>{const t=n.value,o=t.length;return!(t.startsWith("+")?a:f).some(c=>o<=c.length&&c.startsWith(t))}),g=t=>{h("update:modelValue",t)};return(t,o)=>(e.openBlock(),e.createBlock(e.unref(B),e.mergeProps(r,{"model-value":e.unref(n),"mask-options":e.unref(b.inputPhoneInternationalMask),"has-cleaner":C.value,"onUpdate:modelValue":g}),{left:e.withCtx(()=>[e.createVNode(e.unref(I),{code:v.value},null,8,["code"])]),label:e.withCtx(()=>[y.value?e.renderSlot(t.$slots,"label",{key:0}):e.createCommentVNode("",!0)]),description:e.withCtx(()=>[P.value?e.renderSlot(t.$slots,"description",{key:0}):e.createCommentVNode("",!0)]),_:3},16,["model-value","mask-options","has-cleaner"]))}});module.exports=S;
