var ae=require("./Root.css");const e=require("vue"),N=require("@smartmed/ui/ScrollbarControllers"),m=require("@smartmed/ui/tokens"),B=require("../isMobile-06be1506.js"),v=require("../_plugin-vue_export-helper-f246444f.js"),C=require("@smartmed/ui/use"),h={type:"success",autoClose:!0,closeTimeout:5e3,data:void 0},H=e.defineComponent({name:"AlertsHost",__name:"AlertsHost",setup(l,{expose:r}){const n=e.ref([]),o=new Map,c=e.ref(null),t=e.inject(m.ALERTS_OPTIONS_TOKEN,null),_=t!=null&&t.component?t.component:"div",a=t!=null&&t.transitionName?t.transitionName:"none",d=(t==null?void 0:t.position)||"bottom",u=(s,p,i=h)=>{const{type:$=h.type,autoClose:k=h.autoClose,closeTimeout:T=h.closeTimeout}=i;if(n.value=n.value.concat({id:s,content:p,type:$,closable:k,data:i.data}),k){const b=setTimeout(()=>{f(s)},T);o.set(s,b)}},f=s=>{const p=o.get(s);p&&clearTimeout(p),o.delete(s),n.value=n.value.filter(({id:i})=>i!==s)},y=()=>{const s=n.value[0];s&&f(s.id)};return e.onBeforeUnmount(()=>{n.value.forEach(s=>f(s.id))}),r({elementRef:c,show:u,close:f,closeLast:y}),(s,p)=>(e.openBlock(),e.createElementBlock("div",{id:"smed-alerts-host",ref_key:"elementRef",ref:c},[e.createElementVNode("div",{class:e.normalizeClass([s.$style.root,s.$style["root_"+e.unref(d)]])},[e.createVNode(e.TransitionGroup,{tag:"ui",name:e.unref(a),class:e.normalizeClass(s.$style.container)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,i=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(_)),{key:i.id,class:"smed-space_bottom-4",type:i.type,content:i.content,data:i.data,closable:i.closable,onClose:$=>f(i.id)},null,40,["type","content","data","closable","onClose"]))),128))]),_:1},8,["name","class"])],2)],512))}}),w="_root_1gwxm_1",E="_root_bottom_1gwxm_12",O="_container_1gwxm_18",R="_root_top_1gwxm_21",g={root:w,root_bottom:E,"root_bottom-right":"_root_bottom-right_1gwxm_15",container:O,root_top:R,"root_top-right":"_root_top-right_1gwxm_24"},A={$style:g},S=v._export_sfc(H,[["__cssModules",A]]),V=e.defineComponent({name:"DropdownHost",setup(){return{element:e.ref(null)}}}),M={id:"smed_dropdown-host",ref:"element"};function q(l,r,n,o,c,t){return e.openBlock(),e.createElementBlock("div",M,null,512)}const z=v._export_sfc(V,[["render",q]]),P=e.defineComponent({name:"PopupsHost",setup(){const l=new Map,r=e.ref(!1),n=e.ref(!1);let o=null;e.watch(r,a=>{a?o=setTimeout(()=>n.value=!0):(o&&(clearTimeout(o),o=null),n.value=!1)});const c=a=>{l.set(a,null)},t=(a,d)=>{l.set(a,d?new Date:null),r.value=Array.from(l.values()).some(u=>u)},_=a=>{l.delete(a),r.value=Array.from(l.values()).some(Boolean)};return e.onBeforeUnmount(()=>{o&&clearTimeout(o)}),{isShown:r,animation:n,registerPopup:c,setOpen:t,remove:_}}}),x="_host_je562_1",D="_host_overlay_je562_9",K="_host_animation_je562_25",F={host:x,host_overlay:D,host_animation:K};function L(l,r,n,o,c,t){return e.openBlock(),e.createElementBlock("div",{id:"smed_popups-host",class:e.normalizeClass([l.$style.host,l.isShown&&l.$style.host_overlay,l.animation&&l.$style.host_animation])},null,2)}const j={$style:F},I=v._export_sfc(P,[["render",L],["__cssModules",j]]),U={id:"smed_table-bar-host"},G=e.createElementVNode("div",{id:"smed_table-bars"},null,-1),W={id:"smed_table-bar-overlayable"},J=e.defineComponent({__name:"TableBarHost",setup(l,{expose:r}){const n=C.useOverscroll("all",_=>_),o=e.ref(!1);return r({isOverlay:o,showOverlay:()=>{o.value=!0},hideOverlay:()=>{o.value=!1}}),(_,a)=>(e.openBlock(),e.createElementBlock("div",U,[G,e.createElementVNode("div",W,[e.createVNode(e.Transition,{name:"fade"},{default:e.withCtx(()=>[o.value?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overscrollRef",ref:n,class:e.normalizeClass(_.$style.overlay)},null,2)):e.createCommentVNode("",!0)]),_:1})])]))}}),Q="_overlay_11lww_1",X={overlay:Q},Y={$style:X},Z=v._export_sfc(J,[["__cssModules",Y]]),ee={name:"Root"},oe=e.defineComponent({...ee,setup(l){const r=e.ref(null),n=e.ref(null),o=e.ref(null),c=e.ref(null),t=e.ref(null),_=e.ref(NaN),a=B.isMobile(),d=()=>{_.value=requestAnimationFrame(d)};return _.value=requestAnimationFrame(d),e.provide(m.HINT_HOST_TOKEN,e.readonly(n)),e.provide(m.POPUPS_HOST_TOKEN,e.readonly(o)),e.provide(m.TABLE_BAR_HOST_TOKEN,e.readonly(c)),e.provide(m.DROPDOWN_HOST_TOKEN,e.readonly(t)),e.provide(m.ANIMATION_FRAME_EVENTS_TOKEN,e.readonly(_)),e.provide(m.ALERTS_HOST_TOKEN,e.readonly(r)),(u,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(a)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.Transition,{key:0,name:"fade"},{default:e.withCtx(()=>{var y,s;return[!((y=o.value)!=null&&y.isShown)&&!((s=c.value)!=null&&s.isOverlay)?(e.openBlock(),e.createBlock(e.unref(N),{key:0,class:e.normalizeClass(u.$style.scrollbar)},null,8,["class"])):e.createCommentVNode("",!0)]}),_:1})),e.renderSlot(u.$slots,"default"),e.createVNode(Z,{ref_key:"tableBarHostRef",ref:c,class:e.normalizeClass(u.$style.host)},null,8,["class"]),e.createVNode(I,{ref_key:"popupsHostRef",ref:o,class:e.normalizeClass(u.$style.host)},null,8,["class"]),e.createVNode(S,{ref_key:"alertsHostRef",ref:r},null,512),e.createVNode(z,{ref_key:"dropdownHostRef",ref:t,class:e.normalizeClass(u.$style.host)},null,8,["class"]),e.createElementVNode("div",{id:"smed_hints-host",ref_key:"hintsHostRef",ref:n,class:e.normalizeClass(u.$style.host)},null,2)],64))}}),te="_host_qf25v_1",se="_scrollbar_qf25v_9",ne={host:te,scrollbar:se},le={$style:ne},re=v._export_sfc(oe,[["__cssModules",le]]);module.exports=re;
