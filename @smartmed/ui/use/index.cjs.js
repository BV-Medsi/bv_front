"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const R=require("@smartmed/ui/tokens");require("@maskito/core");require("../inputPhoneInternational.mask-94723b98.js");const r=require("vue");let I=0;function A(){return`smed-element_${I++}_${Date.now()}`}function m(e){return typeof e=="function"?r.computed(e):r.ref(e)}function N(e){r.getCurrentScope()&&r.onBeforeUnmount(e)}function U(e){const n=r.inject(R.ALERTS_HOST_TOKEN,null),u=[],t=(l,i)=>{var h;const s=A();return n&&((h=n.value)==null||h.show(s,l,i)),e!=null&&e.autoCloseOnUnmount&&u.push(s),s},f=l=>{var i;if(!l){c();return}n&&((i=n.value)==null||i.close(l))},c=()=>{var l;n&&((l=n.value)==null||l.closeLast())};return N(()=>{u.forEach(f)}),{show:t,close:f,closeLast:c}}const S="__SmartMed_CONTROL_ACCESSOR_TOKEN";function M(e=void 0){return e!==void 0&&r.provide(S,e),r.inject(S,null)}function Y(e=!1){const n=M(),u=m(e),t=n?m(n.disabled):r.ref(!1);return r.computed(()=>u.value||t.value)}function j(e=!1){const n=M(),u=m(e),t=n?m(n.invalid):r.ref(!1);return r.computed(()=>u.value||t.value)}function B(){const e=M(),n=r.ref(null),u=r.ref(!1),t=()=>{u.value=!0},f=()=>{u.value=!1,e==null||e.markAsTouch()},c=r.computed(()=>n.value?n.value:null);r.onMounted(()=>{const s=c.value;s&&typeof s.addEventListener=="function"&&(s.addEventListener("focus",t),s.addEventListener("blur",f))}),r.onBeforeUnmount(()=>{const s=c.value;s&&typeof s.removeEventListener=="function"&&(s.removeEventListener("focus",t),s.removeEventListener("blur",f))});const l=()=>{c.value&&c.value.focus()},i=()=>{c.value&&c.value.blur()};return{native:n,focused:u,id:A(),focus:l,blur:i}}const w={trim:e=>typeof e=="string"?e.trim():e,capitalize:e=>typeof e=="string"?e.charAt(0).toUpperCase()+e.slice(1):e,uppercase:e=>typeof e=="string"?e.toUpperCase():e,lowercase:e=>typeof e=="string"?e.toLowerCase():e};function X(e){const n=r.inject(R.MODEL_MODIFIERS_TOKEN,w),u=c=>c,t=Object.keys(e).filter(c=>e[c]).map(c=>n[c]||w[c]||u);return{modify:c=>{let l=c;return t.forEach(i=>{l=i(l)}),l}}}function O(e,n,u,t){return u?q(e,n,t):k(e,n,t)}function q(e,n,u){let t=e;for(;t!==n.parentElement;){if(Math.floor(t.scrollTop)>0&&!u||Math.ceil(t.scrollTop+t.clientHeight)<t.scrollHeight&&u)return!0;if(t.parentElement)t=t.parentElement;else return!1}return!1}function k(e,n,u){let t=e;for(;t!==n.parentElement;){if(Math.floor(t.scrollLeft)>0&&!u||Math.ceil(t.scrollLeft+t.clientWidth)<t.scrollWidth&&u)return!0;if(t.parentElement)t=t.parentElement;else return!1}return!1}function K(e){return!!e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function C(e,n=!0){return e===null?null:n&&e.scrollHeight>e.clientHeight||!n&&e.scrollWidth>e.clientWidth?e:C(e.parentElement,n)}function W(e="scroll",n){const u=r.ref(null),t=m(e),f=r.computed(()=>t.value!=="none"),c=r.computed(()=>u.value&&n(u.value)),l=(o,a,v)=>{const{target:d,currentTarget:_,cancelable:H}=o;if(!H||!_||!K(d)||(d==null?void 0:d.type)==="range")return;const p=_;if(t.value==="all"&&(a&&!p.contains(C(d))||!a&&!p.contains(C(d,!1)))){o.preventDefault();return}if(a&&(v&&!O(d,p,!0,!1)||!v&&!O(d,p,!0,!0))){o.preventDefault();return}!a&&(v&&!O(d,p,!1,!1)||!v&&!O(d,p,!1,!0))&&o.preventDefault()},i=o=>{f.value&&l(o,!!o.deltaY,o.deltaY?o.deltaY<0:o.deltaX<0)};let s=0,h=0,L=0,T=0,E;const y=o=>{if(!f.value)return;const a=o.changedTouches[0];L=s-a.clientX,T=h-a.clientY,s=a.clientX,h=a.clientY,E===void 0&&(E=Math.abs(T)>Math.abs(L)),l(o,E,E?T<0:L<0)},b=o=>{const a=c.value;if(!a)return;const v=o.touches[0];s=v.clientX,h=v.clientY,L=0,T=0,E=void 0,a.removeEventListener("touchmove",y),a.addEventListener("touchmove",y,{passive:!1})},D=(o,a,v)=>{v(()=>{o&&(o.removeEventListener("wheel",i),o.removeEventListener("touchstart",b),o.removeEventListener("touchmove",y))}),o&&(o.addEventListener("wheel",i,{passive:!1}),o.addEventListener("touchstart",b,{passive:!0}))};return r.onBeforeUnmount(()=>{const o=c.value;o&&(o.removeEventListener("wheel",i),o.removeEventListener("touchstart",b),o.removeEventListener("touchmove",y))}),r.watch(c,D,{immediate:!0}),r.watch([c,f],([o,a])=>{o&&(o.style.overscrollBehavior=a?"contain":null)},{immediate:!0}),u}const g=Symbol();function z(e="parent",n=document.body){const u=r.inject(g,r.ref("light")),t=r.ref(e==="parent"?u.value:e),f=m(n);r.provide(g,t);const c=i=>{t.value=i},l=([i,s])=>{s==null||s.classList.remove("smed-dark-theme"),s==null||s.classList.remove("smed-light-theme"),s==null||s.classList.add(`smed-${i}-theme`)};return r.watch([t,f],l,{immediate:!0}),{set:c,theme:t}}exports.useAlerts=U;exports.useControlAccess=M;exports.useControlDisabled=Y;exports.useControlInvalid=j;exports.useInteractive=B;exports.useModelModifiers=X;exports.useOverscroll=W;exports.useTheme=z;
