"use strict";var _=Object.create;var P=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var z=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F(t))!k.call(e,o)&&o!==n&&P(e,o,{get:()=>t[o],enumerable:!(s=W(t,o))||s.enumerable});return e};var C=(e,t,n)=>(n=e!=null?_(S(e)):{},z(t||!e||!e.__esModule?P(n,"default",{value:e,enumerable:!0}):n,e));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("@smartmed/ui/tokens"),c=require("vue");function T(){}function K(e){return typeof e=="function"?e():c.unref(e)}function V(e,t){function n(...s){return new Promise((o,u)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(u)})}return n}function $(e,t=!0,n=!0,s=!1){let o=0,u,l=!0,v=T,w;const p=()=>{u&&(clearTimeout(u),u=void 0,v(),v=T)};return R=>{const a=K(e),A=Date.now()-o,E=()=>w=R();return p(),a<=0?(o=Date.now(),E()):(A>a&&(n||!l)?(o=Date.now(),E()):t&&(w=new Promise((h,y)=>{v=s?y:h,u=setTimeout(()=>{o=Date.now(),l=!0,h(E()),p()},Math.max(0,a-A))})),!n&&!u&&(u=setTimeout(()=>l=!0,a)),l=!1,w)}}function j(e,t=200,n=!1,s=!0,o=!1){return V($(t,n,s,o),e)}function L(e){return e.composedPath()[0]}function N(e){return"getRootNode"in e&&e.isConnected?e.getRootNode():e.ownerDocument}function O(e){return N(e).activeElement!==e&&!e.matches(":disabled")}const i=c.ref(null);let r=null;const m=()=>{r==null||r.removeEventListener("focusin",D),r==null||r.removeEventListener("focusout",f)},f=e=>{m();const t=L(e);O(t)&&(i.value=e.relatedTarget)},q=e=>{const t=e.target;i.value=t},x=e=>{const{relatedTarget:t,target:n}=e;t&&O(n)&&(i.value=t)},B=e=>{e.addEventListener("focusin",q),e.addEventListener("focusout",x),r=e},D=e=>{m();const t=L(e),n=N(t);n===document?i.value=t:(i.value=t,B(n))},H=()=>{m();const e=document.activeElement;e!=null&&e.matches("iframe")||(i.value=e)},G=e=>{const t=()=>{i.value=e,window.removeEventListener("focusout",t)};window.addEventListener("focusout",t),setTimeout(()=>{window.removeEventListener("focusout",t)},0)},J=e=>{m(),window.removeEventListener("focusout",f);const t=L(e);!document.activeElement||document.activeElement===document.body?i.value=t:G(t)},Q=()=>{window.addEventListener("focusout",f)},U=e=>{document.body.onclick=T,window.addEventListener("focusout",f),window.addEventListener("focusin",D),window.addEventListener("blur",H),window.addEventListener("mousedown",J),window.addEventListener("mouseup",Q),e.provide(d.ACTIVE_ELEMENT_TOKEN,c.readonly(i))},I={install:U},g={component:c.defineAsyncComponent(()=>import("@smartmed/ui/Alert")),position:"bottom",transitionName:"smed-list-transition"},X=(e,t)=>{const{component:n=g.component,transitionName:s=g.transitionName,position:o=g.position}=t||{};e.provide(d.ALERTS_OPTIONS_TOKEN,{component:n,transitionName:s,position:o})},b={install:X},Y={mobile:768,landscape:1024},Z=(e,t=Y)=>{const n=c.ref(window.innerWidth),o=j(()=>{n.value=window.innerWidth},100);window.addEventListener("resize",o),e.provide(d.MEDIA_WINDOW_WIDTH_TOKEN,n),e.provide(d.MEDIA_BREAKPOINTS,t)},M={install:Z},ee=(e,t)=>{e.use(I).use(b,t==null?void 0:t.alerts).use(M,t==null?void 0:t.media)},te={install:ee};exports.ActiveElementPlugin=I;exports.AlertsPlugin=b;exports.MediaPlugin=M;exports.SmedInstallPlugin=te;
