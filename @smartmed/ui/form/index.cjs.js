"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const w=require("@vuelidate/core"),c=require("vue");require("@maskito/core");require("../inputPhoneInternational.mask-94723b98.js");const s=require("@vuelidate/validators");function V(e,u,i,p){const o=u.value,a=c.ref(!1),d=c.ref({}),m=c.computed(()=>{const n=i.value[e].$errors;return a.value||n.length===0?{}:n.reduce((l,g)=>({...l,[g.$validator]:typeof g.$message=="string"?g.$message:g.$message.value}),{...d.value})}),h=c.computed(()=>{const n=Object.keys(d.value);return n.length===0?null:{[n[0]]:d.value[n[0]]}}),f=c.computed(()=>{const n=h.value,l=i.value[e].$errors[0];return a.value||!l&&!n?null:l?{[l.$validator]:typeof l.$message=="string"?l.$message:l.$message.value}:n}),x=c.computed(()=>a.value?!1:!!f.value),r=c.computed(()=>!x.value),t=n=>{u.value=n},v=()=>{a.value||i.value[e].$touch()},C=()=>{a.value=!0},b=()=>{a.value=!1},$=()=>{t(o),i.value[e].$reset()},M=n=>{d.value=n},O=n=>{d.value=Object.keys(d.value).reduce((l,g)=>n.includes(g)?l:{...l,[g]:d.value[g]},{})};return p.validateOn==="valueChange"&&c.watch(u,()=>{v()}),{error:f,errors:m,value:u,setValue:t,invalid:x,valid:r,reset:$,disabled:a,disable:C,enable:b,markAsTouch:v,setErrors:M,removeErrors:O,configuration:p}}function j(e){const u=Object.keys(e).reduce((r,t)=>{const[v,C]=e[t];return{...r,[t]:C||{}}},{}),i=Object.keys(e).reduce((r,t)=>{const[v]=e[t];return{...r,[t]:c.ref(v)}},{}),p=w.useVuelidate(u,i),o=Object.keys(i).reduce((r,t)=>{const v=e[t][2]||{validateOn:"blur"};return{...r,[t]:V(t,i[t],p,v)}},{}),a=c.computed(()=>Object.keys(o).some(r=>o[r].invalid.value)),d=c.computed(()=>!a.value),m=c.computed(()=>a.value?Object.keys(o).filter(r=>o[r].invalid.value).reduce((r,t)=>({...r,[t]:o[t].errors.value}),{}):{}),h=()=>{Object.keys(o).forEach(r=>o[r].markAsTouch())};return{invalid:a,valid:d,markAsTouch:h,errors:m,validate:()=>{h()},value:i,getCurrentValue:()=>Object.keys(i).reduce((r,t)=>({...r,[t]:i[t].value}),{}),...o}}function q(e){return e.replace(/\D/g,"")}const E=[{id:"AZ",title:"Азербайджан",prefix:"+994",digitsCount:12},{id:"AM",title:"Армения",prefix:"+374",digitsCount:11},{id:"BY",title:"Беларусь",prefix:"+375",digitsCount:12},{id:"GE",title:"Грузия",prefix:"+995",digitsCount:12},{id:"KZ",title:"Казахстан",prefix:"+7",digitsCount:11},{id:"KG",title:"Киргизия",prefix:"+996",digitsCount:12},{id:"MD",title:"Молдова",prefix:"+373",digitsCount:11},{id:"RU",title:"Россия",prefix:"+7",digitsCount:11},{id:"TJ",title:"Таджикистан",prefix:"+992",digitsCount:12},{id:"TM",title:"Туркменистан",prefix:"+993",digitsCount:11},{id:"UZ",title:"Узбекистан",prefix:"+998",digitsCount:12}];function T(e){const u=q(e),i=`+${u}`,p=u.length,o=E.find(({prefix:a})=>i.startsWith(a));return!!o&&o.digitsCount===p}const L=s.helpers.withMessage("Заполните поле",s.required),y=s.helpers.withMessage("Заполните поле",e=>e===!0),A=s.helpers.withMessage("Введите корректный адрес электронной почты",s.email),F=e=>s.helpers.withMessage(`Значение должно быть не меньше ${e}`,s.minValue(e)),P=e=>s.helpers.withMessage(`Значение должно быть не больше ${e}`,s.maxValue(e)),Z=e=>s.helpers.withMessage(`Длина должна быть не меньше ${e} символов`,s.minLength(e)),D=e=>s.helpers.withMessage(`Длина должна быть не больше ${e} символов`,s.maxLength(e)),G=s.helpers.withMessage("Некорректный номер мобильного телефона",T),K=e=>s.helpers.withMessage("Заполните поле",u=>u!==e),N=e=>s.helpers.withMessage("Невалидное поле",u=>(typeof e=="string"?new RegExp(e):e).test(u));exports.createForm=j;exports.email=A;exports.maxLength=D;exports.maxValue=P;exports.minLength=Z;exports.minValue=F;exports.not=K;exports.pattern=N;exports.phone=G;exports.required=L;exports.requiredTrue=y;
