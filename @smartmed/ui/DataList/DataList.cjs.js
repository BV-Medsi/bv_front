var T=require("./DataList.css");const e=require("vue"),m=require("@smartmed/ui/DataListItem"),h=require("@smartmed/ui/Spinner"),z=require("@smartmed/ui/SvgIcon"),g=require("@smartmed/utility/dom"),w=require("@smartmed/utility/vue"),C=require("../_plugin-vue_export-helper-f246444f.js"),V={size:"md",items:()=>[],matcher:(i,a)=>i===a,overflowy:!0},$={style:{color:"var(--smed-base-03)"}},S=e.defineComponent({name:"DataList",__name:"DataList",props:e.mergeDefaults({modelValue:{},items:{},size:{},matcher:{type:Function},overflowy:{type:Boolean}},V),emits:["update:modelValue"],setup(i,{emit:a}){const u=i,{items:l,size:n}=e.toRefs(u),v=e.useSlots(),d=e.ref(null),f=e.computed(()=>l.value===null),y=e.computed(()=>n.value==="sm"?"md":"lg"),k=e.computed(()=>w.hasSlotContent(v.action)),B=()=>{const t=d.value,s=(t==null?void 0:t.querySelectorAll('[data-smed-data-list-item=""]'))||[];return Array.from(s)},_=(t,s)=>{const o=t.target,r=B();g.moveFocus(r.indexOf(o),r,s)},p=t=>{a("update:modelValue",t)},c=(t,s)=>u.matcher(t,s);return(t,s)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"root",ref:d,class:e.normalizeClass([t.$style.list,t.overflowy&&t.$style.list_overflowy]),onKeydown:[s[0]||(s[0]=e.withKeys(e.withModifiers(o=>_(o,-1),["prevent"]),["up"])),s[1]||(s[1]=e.withKeys(e.withModifiers(o=>_(o,1),["prevent"]),["down"]))]},[f.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([t.$style.spinner,t.$style["item_"+e.unref(n)]])},[e.createVNode(e.unref(h),{theme:"primary",size:"md"})],2)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(l)&&e.unref(l).length>0?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.$style.buttons)},[e.renderSlot(t.$slots,"list",{onUpdate:p,getIsActive:c.bind(null,t.modelValue)},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l),(o,r)=>(e.openBlock(),e.createBlock(e.unref(m),{key:r,size:e.unref(n),onOnClick:R=>p(o)},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"itemContent",{item:o,active:c(t.modelValue,o)},()=>[e.createElementVNode("span",null,e.toDisplayString(o),1),c(t.modelValue,o)?(e.openBlock(),e.createBlock(e.unref(z),{key:0,name:"check",class:e.normalizeClass(t.$style.icon),size:y.value},null,8,["class","size"])):e.createCommentVNode("",!0)])]),_:2},1032,["size","onOnClick"]))),128))]),k.value?(e.openBlock(),e.createBlock(e.unref(m),{key:0,size:e.unref(n)},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"action")]),_:3},8,["size"])):e.createCommentVNode("",!0)],2)):(e.openBlock(),e.createBlock(e.unref(m),{key:1,hoverable:!1,size:e.unref(n)},{default:e.withCtx(()=>[e.createElementVNode("span",$,[e.renderSlot(t.$slots,"emptyContent",{},()=>[e.createTextVNode(" Ничего не найдено ")])])]),_:3},8,["size"]))],64))],34))}}),b="_list_1v99m_1",D="_list_overflowy_1v99m_7",q="_icon_1v99m_11",F="_spinner_1v99m_16",L="_buttons_1v99m_20",E="_item_1v99m_25",N="_item_notFound_1v99m_31",A="_item_hoverable_1v99m_35",M="_item_sm_1v99m_38",I="_item_md_1v99m_41",K="_item_lg_1v99m_44",O={list:b,list_overflowy:D,icon:q,spinner:F,buttons:L,item:E,item_notFound:N,item_hoverable:A,item_sm:M,item_md:I,item_lg:K},H={$style:O},P=C._export_sfc(S,[["__cssModules",H]]);module.exports=P;
