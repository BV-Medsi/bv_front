var q=require("./TransitionExpand.css");const e=require("vue"),v=require("../_plugin-vue_export-helper-f246444f.js"),_={opened:!1,duration:200},m={name:"TransitionExpand"},x=e.defineComponent({...m,props:e.mergeDefaults({opened:{type:Boolean},duration:{}},_),setup(i){const c=i,{opened:l,duration:d}=e.toRefs(c),r=e.ref(l.value),n=e.ref(null),a=e.ref(0),u=e.ref(!1),p=e.computed(()=>{const t=a.value,o=d.value;return{transitionDuration:`${u.value?t>1e3?400:o:0}ms`,height:l.value?`${t}px`:"0px"}});e.onMounted(()=>{n.value&&r.value&&(a.value=n.value.scrollHeight),setTimeout(()=>{u.value=!0})}),e.watch(l,t=>{t&&(r.value=!0),requestAnimationFrame(()=>{var o;t?(a.value=0,requestAnimationFrame(()=>{var s;a.value=(s=n.value)==null?void 0:s.scrollHeight})):(a.value=(o=n.value)==null?void 0:o.scrollHeight,requestAnimationFrame(()=>{a.value=0}))})});function f(t){var s;t.target===n.value&&t.propertyName==="height"&&(l.value||((s=n.value)==null?void 0:s.style.height)==="0px"&&(r.value=!1))}return(t,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"expandRef",ref:n,class:e.normalizeClass([t.$style.expand,e.unref(l)&&t.$style.expand_opened]),style:e.normalizeStyle(p.value),onTransitionend:f},[e.createVNode(e.Transition,{name:"fade"},{default:e.withCtx(()=>[r.value?e.renderSlot(t.$slots,"default",{key:0}):e.createCommentVNode("",!0)]),_:3})],38))}}),h="_expand_1t43a_1",y="_expand_opened_1t43a_7",g={expand:h,expand_opened:y},T={$style:g},$=v._export_sfc(x,[["__cssModules",T]]);module.exports=$;
